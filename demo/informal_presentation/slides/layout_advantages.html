<!doctype html>
<html lang="en">
<head>
	<title>Layout Advantages of 3D</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
	
	<link rel="stylesheet" type="text/css" href="../css/slide.css" />
	<style>
		body {
		background-color: #000000;
	</style>

	<script type="text/javascript" src="../../../jquery/jquery-1.7.1.min.js"></script>
	
	<script type="text/javascript" src="../../../Three/Three.js"></script>

	<script type="text/javascript" src="../../../Three/RequestAnimationFrame.js"></script>

	<script type="text/javascript" src="../../../Three/Detector.js"></script>

	<script type="text/javascript" src="../../../js/Triptych.js"></script>
	
	<script type="text/javascript" src="../../../js/BasicVisualizer.js"></script>
	
	<script type="text/javascript" src="../../../js/BasicGraphLoader.js"></script>

	<script type="text/javascript" src="../../../js/BasicControls.js"></script>

	<script type="text/javascript" src="../../../js/SpringForceLayoutEngine.js"></script>
	
	<script type="text/javascript" src="../js/controls.js"></script>	
	
</head>

<body>
	<div id="controls">
		<button id="back">Back</button>
		<button id="next">Next</button>
	</div>
	
	<div id="cytoscapeLayout">
	<img src="../img/cell_stress_2.png">
	</div>
	
	<script>
		if ( ! Detector.webgl ) Detector.addGetWebGLMessage();
		
		var sourceURL = "../graphs/cell_stress.xgmml",
		visualizer, xgmml, graph, layoutEngine, space, controls, loader;
	
		var cytoscapeHidden = false;
	
		function handleNext(){
		
			if (cytoscapeHidden){
		
				window.location="focusing_attention.html";
				
			} else {
			
				$("#cytoscapeLayout").fadeOut(3000);
				cytoscapeHidden = true;
				
				$.ajax({
					type: "GET",
					url: sourceURL,
					dataType: "xml",
					success: function(data) {
						loader = new TRIPTYCH.BasicGraphLoader();
						graph = loader.loadXGMML(data);
						visualizer = new TRIPTYCH.BasicVisualizer(); 
						layoutEngine = new TRIPTYCH.SpringForceLayoutEngine();
						controls = new TRIPTYCH.BasicControls();
						space = new TRIPTYCH.Space(graph, visualizer, layoutEngine, controls);
						visualizer.showLabels = false;
						visualizer.showEdgeLabels = false;
						space.cameraInitialZ = 1000;
						space.init();
						animate();
		
					}
				});
			}
		}	

		function handleBack(){
			window.location="gentle_learning_curve.html";
		}
		
		function animate() {
	
			requestAnimationFrame( animate );
	
			space.update();
	
		}

	
	</script>

</body>

</html>

